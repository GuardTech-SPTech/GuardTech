<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="assets/style.css">
    <title>Cadastre-se</title>
    <link rel="icon" href="assets/sergio.usa.na.aba.ico">
</head>

<body>
    <div class="container-form">
        <div class="area-logo">
            <div class="box-logo">
                <h2 class="titulo-logo">Bem-Vindo a GuardTech+</h2>
                <div class="logo">
                    <img src="assets/logo sem (claro) sem escrita 1.png" alt="">
                </div>
                <p class="flush"><a href="../SITE/index.html">Voltar</a></p>
            </div>
        </div>
        <div class="area-form">
            <div class="desc-form">
                <p class="titulo-form">Cadastre-se</p>
            </div>
            <div class="form">
                <input type="text" id="input_empresa" placeholder="EMPRESA">
                
                <small class="alert" id="alert_cep">CEP invalido!</small>
                <div class="box-endereco">
                    <input name="cep" onkeyup="showCep()" type="text" id="input_cep" size="10" maxlength="9" placeholder="CEP">
                    <input type="text" id="input_num" placeholder="NUMERO">
                </div>
                <small class="alert" id="alert_cnpj">CNPJ invalido!</small>
                <input type="text" onkeyup="showCNPJ()" id="input_cnpj" placeholder="CNPJ">
                <small class="alert" id="alert_email">O email deve estar no formato empresa@dominio.com</small>
                <input type="text" onkeyup="showEmail()" id="input_email" placeholder="EMAIL">
                <small class="alert" id="alert_senha"></small>
                <input type="password" id="input_senha" placeholder="SENHA">
                <small class="alert" id="alert_confirm">As senhas não são iguais</small>
                <input type="password" onkeyup="showConfirm()" id="input_confirm" placeholder="CONFIRME SUA SENHA">
            </div>
            <div class="area-button">
                <button onclick="cad()">Cadastrar</button>
            </div>
        </div>
    </div>

    <script>
        function cad(conteudo) {
            //PEGANDO OS VALORES DOS INPUTS
            const empresa = input_empresa.value;
            const cep = input_cep.value;
            const email = input_email.value;
            const senha = input_senha.value;
            const confirm = input_confirm.value;


            //CRIANDO VARIAVEIS BOOLEANAS PARA VALIDAÇÃO
            let temMaiscula = false;
            let temMinuscula = false;
            let temNum = false;
            let temEspecial = false;


            //CRIANDO ARRAY PARA VALORES ESPECIAIS
            let especiais = ['!', '@', '#', '$', '%', '^', '&', '*', '(', ')', '_', '+', '-', '=', '[', ']', '{', '}', '|', ';', ':', ',', '.', '<', '>', '?'];

            //LIMPANDO CAMPO DE ALERT DA SENHA
            alert_senha.innerHTML = '';

            alert_cnpj.innerHTML = '';

            //FOR PARA VALIDAÇÃO DA SENHA
            for (let posicaoChar = 0; posicaoChar < senha.length; posicaoChar++) {
                let letra = senha[posicaoChar];

                if (letra >= 'A' && letra <= 'Z') {
                    temMaiscula = true;
                }

                if (letra >= 'a' && letra <= 'z') {
                    temMinuscula = true;
                }

                if (letra >= '0' && letra <= '9') {
                    temNum = true;
                }

                if (especiais.indexOf(letra) != -1) {
                    temEspecial = true;
                }

                if (temEspecial && temNum && temMinuscula && temMaiscula) {
                    window.location.href = '../dash teste/index.html';
                }
            }

            if (!temMaiscula) {
                alert_senha.style.display = 'block';
                alert_senha.innerHTML = 'A senha deve conter pelo menos uma letra maiúscula';
            }

            if (!temMinuscula) {
                alert_senha.style.display = 'block';
                alert_senha.innerHTML = 'A senha deve conter pelo menos uma letra minúscula';
            }

            if (!temNum) {
                alert_senha.style.display = 'block';
                alert_senha.innerHTML = 'A senha deve conter pelo menos um número';
            }

            if (!temEspecial) {
                alert_senha.style.display = 'block';
                alert_senha.innerHTML = 'A senha deve conter pelo menos 1 caractere especial';
            }

            if (temMaiscula && temMinuscula && temNum && temEspecial && cpfValido) {
                alert_senha.innerHTML = '';
            }
        }


        function showEmail() {
            const email = input_email.value;

            alert_email.style.display = 'block'

            if (email.indexOf('@') != - 1) {
                alert_email.style.display = 'none'
            }
        }


        function showCNPJ() {
            const cnpj = input_cnpj.value;


            if (cnpj == '' || cnpj[2] != '.' || cnpj[6] != '.' || cnpj[15] != '-' || cnpj[10] != '/' || cnpj.indexOf('0001') <= cnpj[10]) {
                alert_cnpj.style.display = 'block'
            } else {
                alert_cnpj.style.display = 'none'
            }

        }

        function showCep() {
            const cep = input_cep.value;

            if (cep == '' || cep.length != 9) {
                alert_cep.style.display = 'block'
            } else {
                alert_cep.style.display = 'none'
            }

        }


        function showConfirm() {
            const senha = input_senha.value;
            const confirm = input_confirm.value;

            if (senha != confirm) {
                alert_confirm.style.display = 'block'
            } else {
                alert_confirm.style.display = 'none'
            }
        }
    </script>
</body>

</html>