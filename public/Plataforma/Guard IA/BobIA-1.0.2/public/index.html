<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Plataforma | GuardTech+</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="imagens/sergio.usa.na.aba.ico">
</head>

<body>
    <div class="screen">
        <div class="header">
            <p>Voltar</p>
            <h2>GUARDTECH+</h2>
            <img class="logo" src="img/guardsemescrita.png">
        </div>
        <div class="box-nav-bar">
            <div class="nav-bar-center">
                <ul>
                    <li><a href="">Monitoramento</a></li>
                    <li><a href="">Guard IA</a></li>
                  </ul>
            </div>
        </div>
        <div class="big-box">
            <div class="box-resposta">
                <div id="resposta" class="display-hidden"></div>
            </div>
            <div class="box-pergunta">
                <input id="pergunta" onclick="trocarClasse()" type="text" placeholder="Digite sua pergunta..." >
                <button onclick="gerarResposta()">
                    <i class="fas fa-play"></i>
                </button>
            </div>
        </div>

        <script>
                
            function trocarClasse() {
                let elemento = document.getElementById('resposta')


                elemento.classList.remove('resposta')
                elemento.classList.add('display-hidden')
            }

            async function gerarResposta() {
                const pergunta = document.getElementById('pergunta').value;

                const response = await fetch('http://localhost:3333/perguntar', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({ pergunta })
                });

                const data = await response.json();

                let elemento = document.getElementById('resposta')
                
                elemento.classList.remove('display-hidden')
                elemento.classList.add('resposta')
                
                document.getElementById('resposta').innerText = data.resultado;
            }

        </script>
    </div>
    </div>
    </div>
</body>

</html>